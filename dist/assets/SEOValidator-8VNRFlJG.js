import{r as T}from"./index-9SohzZkY.js";function q(){return T.useEffect(()=>{const i=()=>({title:d(),metaDescription:m(),h1Tags:u(),images:g(),structuredData:h(),canonical:p(),socialMedia:v(),performance:f(),accessibility:y(),mobile:A()}),d=()=>{const t=document.title,e=t.length;return{passed:e>=30&&e<=60,current:e,title:t,recommendation:e<30?"Title too short":e>60?"Title too long":"Perfect length"}},m=()=>{const e=document.querySelector('meta[name="description"]')?.getAttribute("content")||"",n=e.length;return{passed:n>=120&&n<=160,current:n,content:e,recommendation:n<120?"Description too short":n>160?"Description too long":"Perfect length"}},u=()=>{const t=document.querySelectorAll("h1");return{passed:t.length===1,count:t.length,recommendation:t.length===0?"Missing H1 tag":t.length>1?"Multiple H1 tags found":"Perfect - exactly one H1"}},g=()=>{const t=document.querySelectorAll("img"),e=document.querySelectorAll("img[alt]"),n=document.querySelectorAll("img[src], img[data-src]");return{passed:t.length===e.length&&t.length>0,total:t.length,withAlt:e.length,withSrc:n.length,recommendation:t.length===e.length?"All images have alt text":"Some images missing alt text"}},h=()=>{const t=document.querySelectorAll('script[type="application/ld+json"]');let e=0;return t.forEach(n=>{try{const o=JSON.parse(n.textContent||"");o["@context"]&&o["@type"]&&e++}catch{}}),{passed:e>=4,count:e,recommendation:e>=4?"Good structured data coverage":"More structured data needed"}},p=()=>{const t=document.querySelector('link[rel="canonical"]');return{passed:!!t,url:t?.getAttribute("href"),recommendation:t?"Canonical URL found":"Missing canonical URL"}},v=()=>{const t=document.querySelectorAll('meta[property^="og:"]'),e=document.querySelectorAll('meta[name^="twitter:"]'),n=["og:title","og:description","og:image","og:url"],o=["twitter:card","twitter:title","twitter:description"],r=Array.from(t).map(a=>a.getAttribute("property")),b=Array.from(e).map(a=>a.getAttribute("name")),c=n.every(a=>r.includes(a)),s=o.every(a=>b.includes(a));return{passed:c&&s,openGraph:{total:t.length,required:n.length,complete:c},twitter:{total:e.length,required:o.length,complete:s},recommendation:c&&s?"Social media tags complete":"Missing social media tags"}},f=()=>{const e=performance.getEntriesByType("navigation")[0];if(!e)return{passed:!1,recommendation:"Performance data not available"};const n=e.loadEventEnd-e.navigationStart,o=e.domContentLoadedEventEnd-e.navigationStart;return{passed:n<3e3&&o<2e3,loadTime:Math.round(n),domContentLoaded:Math.round(o),recommendation:n<3e3?"Good load time":"Page loads slowly"}},y=()=>{const t=document.querySelectorAll('a[href^="#"]'),e=document.querySelectorAll("img[alt]"),n=document.querySelectorAll("[aria-label]"),o=S();return{passed:t.length>0&&o.passed,skipLinks:t.length,altTexts:e.length,ariaLabels:n.length,headingStructure:o,recommendation:"Accessibility features implemented"}},S=()=>{const t=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6"));let e=0,n=!0;return t.forEach(o=>{const r=parseInt(o.tagName.substring(1));r>e+1&&(n=!1),e=r}),{passed:n&&t.length>0,count:t.length,recommendation:n?"Good heading structure":"Heading structure needs improvement"}},A=()=>{const e=document.querySelector('meta[name="viewport"]')?.getAttribute("content")||"",n=e.includes("width=device-width"),o=e.includes("initial-scale=1");return{passed:n&&o,content:e,recommendation:n&&o?"Mobile optimized":"Mobile optimization needed"}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):setTimeout(i,1e3);const l=new MutationObserver(t=>{t.forEach(e=>{e.type==="childList"&&e.target===document.head&&setTimeout(i,500)})});return l.observe(document.head,{childList:!0,subtree:!0}),()=>l.disconnect()},[]),null}export{q as SEOValidator};
